// http://jiangyu.me/web/Donsort/ Version 1.0.0. Copyright 2017 Nathan Jiang.
!function(){function e(e,t,n,d){var i=document.getElementById(d);addClass(i,"Donsort"),document.getElementById(d).addEventListener("click",function(){for(var e=[],t=o(document.getElementById(d).parentNode,d),i=document.getElementById(n).cloneNode(!0).getElementsByTagName("tr"),l=0;l<i.length;l++){var u={content:parseFloat(i[l].getElementsByTagName("td")[t].innerHTML),index:l};e.push(u)}var c="false"==document.getElementById(d).getAttribute("reverse");e.sort(r("content",c)),document.getElementById(d).setAttribute("reverse",c),document.getElementById(n).innerHTML="";for(var s in e){var a=i[e[s].index].cloneNode(!0);document.getElementById(n).appendChild(a)}i=null},!1)}function t(t,n,o,r){if("all"==r){var d=0;document.querySelectorAll("#"+n+" thead tr td").forEach(function(r){var i="Donsort_"+n+"_"+String(++d);r.setAttribute("id",i),e(t,n,o,i)})}else e(t,n,o,r)}var n={tableID:"",tbodyID:"",sortedID:""},o=function(e,t){for(var n,o=e.getElementsByTagName("td"),r=0;r<o.length;r++)!function(e){o[r].getAttribute("id")==t&&(n=r)}();return n},r=function(e,t){return function(n,o){return 1==t?n[e]-o[e]:o[e]-n[e]}},d={init:function(){return this},config:function(e){if(!e)return n;for(var t in e)n[t]=e[t];return this},listen:function e(o){if("string"==typeof o){var r=document.querySelectorAll(o),d=r.length;if(0==d)return void console.log("no Dom bind");for(;d--;)e(r[d]);return void(document.getElementById(n.sortedID)||"all"==n.sortedID?t(o,n.tableID,n.tbodyID,n.sortedID):console.log("This dom '#"+n.tableID+"' does not exists."))}return this}};this.Donsort=d}();